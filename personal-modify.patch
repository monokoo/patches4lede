--- a/feeds/packages/net/aria2/files/aria2.conf	2018-01-18 17:47:24.220368073 +0800
+++ b/feeds/packages/net/aria2/files/aria2.conf	2018-05-29 14:19:17.631214708 +0800
@@ -8,15 +8,30 @@
 # You can also add new config sections to define multi instance.
 #
 config aria2 'main'
-	option enabled '0'
 	option user 'aria2'
-	option dir '/mnt/sda1/aria2'
-	option config_dir '/var/etc/aria2'
+	option rpc_auth_method 'none'
+	option enable_log 'false'
+	list extra_settings 'seed-ratio=0'
+	list extra_settings 'force-save=true'
+	list extra_settings 'bt-hash-check-seed=true'
+	list extra_settings 'bt-seed-unverified=true'
+	list extra_settings 'bt-save-metadata=true'
+	list extra_settings 'enable-peer-exchange=false'
+	option disk_cache '64M'
+	option user_agent 'uTorrent/3420(32126)'
+	option bt_max_peers '96'
+	option peer_id_prefix '-UT3420-'
+	option enable_dht 'true'
 	option bt_enable_lpd 'true'
-	option enable_dht 'true'
-	option follow_torrent 'true'
+	option save_session_interval '30'
+	option enabled '0'
+	option min_split_size '20M'
+	option max_concurrent_downloads '5'
+	option max_connection_per_server '16'
+	option split '5'
+	option config_dir '/etc/aria2'
+	option listen_port '36279'
 	option file_allocation 'none'
-	option save_session_interval '30'
 
 	# Add addition Headers here.
 	# eg. list header 'Content-Encoding: gzip'
--- a/feeds/luci/modules/luci-mod-admin-full/luasrc/controller/admin/system.lua	2018-05-14 16:33:04.495992860 +0800
--- b/feeds/luci/modules/luci-mod-admin-full/luasrc/controller/admin/system.lua 2018-05-29 14:33:52.519290194 +0800
@@ -18,6 +18,10 @@
 		entry({"admin", "system", "packages", "ipkg"}, form("admin_system/ipkg"))
 	end
 
+	if fs.access("/usr/sbin/shellinaboxd")then
+		entry({"admin","system","WebShell"},template("admin_system/webshell"),_("WebShell"),11)
+	end
+
 	entry({"admin", "system", "startup"}, form("admin_system/startup"), _("Startup"), 45)
 	entry({"admin", "system", "crontab"}, form("admin_system/crontab"), _("Scheduled Tasks"), 46)
 
@@ -32,6 +36,7 @@
 		entry({"admin", "system", "leds"}, cbi("admin_system/leds"), _("<abbr title=\"Light Emitting Diode\">LED</abbr> Configuration"), 60)
 	end
 
+	entry({"admin", "system", "Free_Memory"},call("Free_Memory"),_("Free Memory"),65)
 	entry({"admin", "system", "flashops"}, call("action_flashops"), _("Backup / Flash Firmware"), 70)
 	entry({"admin", "system", "flashops", "reset"}, post("action_reset"))
 	entry({"admin", "system", "flashops", "backup"}, post("action_backup"))
@@ -45,6 +50,11 @@
 	entry({"admin", "system", "reboot", "call"}, post("action_reboot"))
 end
 
+function Free_Memory()
+	luci.util.exec("echo 3 > /proc/sys/vm/drop_caches")
+	luci.http.redirect(luci.dispatcher.build_url("admin","status","overview"))
+end
+
 function action_clock_status()
 	local set = tonumber(luci.http.formvalue("set"))
 	if set ~= nil and set > 0 then
--- a/feeds/luci/applications/luci-app-wol/luasrc/model/cbi/wol.lua	2018-05-29 14:43:21.042652545 +0800
--- b/feeds/luci/applications/luci-app-wol/luasrc/model/cbi/wol.lua 2018-05-29 14:41:40.615037357 +0800
@@ -71,7 +71,7 @@
 			local iface = luci.http.formvalue("cbid.wol.1.iface")
 			local broadcast = luci.http.formvalue("cbid.wol.1.broadcast")
 			cmd = "%s -D%s %s %q 2>&1" %{
-				util, (iface ~= "" and " -i %s" % utl.shellquote(iface) or ""),
+				util, (iface ~= "" and " -i %s" % utl.shellquote(iface) or " -i br-lan"),
 				(broadcast == "1" and " -b" or ""), mac
 			}
 		else
diff --git a/package/base-files/files/etc/rc.button/reset b/package/base-files/files/etc/rc.button/reset
index 2403122ad2..5746ea237a 100755
--- a/package/base-files/files/etc/rc.button/reset
+++ b/package/base-files/files/etc/rc.button/reset
@@ -15,16 +15,8 @@ timeout)
 	set_state failsafe
 ;;
 released)
-	if [ "$SEEN" -lt 1 ]
-	then
-		echo "REBOOT" > /dev/console
-		sync
-		reboot
-	elif [ "$SEEN" -ge 5 -a -n "$OVERLAY" ]
-	then
 		echo "FACTORY RESET" > /dev/console
 		jffs2reset -y && reboot &
-	fi
 ;;
 esac
 
diff --git a/package/network/ipv6/6in4/files/6in4.sh b/package/network/ipv6/6in4/files/6in4.sh
index 941dc43d68..ba65dfe979 100755
--- a/package/network/ipv6/6in4/files/6in4.sh
+++ b/package/network/ipv6/6in4/files/6in4.sh
@@ -11,7 +11,7 @@
 
 proto_6in4_update() {
 	sh -c '
-		timeout=5
+		timeout=8
 
 		(while [ $((timeout--)) -gt 0 ]; do
 			sleep 1
diff --git a/package/network/services/hostapd/files/hostapd.sh b/package/network/services/hostapd/files/hostapd.sh
index 7ffff4e7e1..c55f05c9b3 100644
--- a/package/network/services/hostapd/files/hostapd.sh
+++ b/package/network/services/hostapd/files/hostapd.sh
@@ -383,6 +383,11 @@ hostapd_set_bss_options() {
 		set_default wps_manufacturer "www.openwrt.org"
 		set_default wps_independent 1
 
+		# Set WPS label pin to original Netgear value stored in art partition
+		# Value for wps_pin can be overridden by /etc/config/wireless
+#		local PINdefault="$(dd if=/dev/mtdblock3 bs=1 skip=18 count=8 2>/dev/null)"
+#		set_default wps_pin "$PINdefault"
+
 		wps_state=2
 		[ -n "$wps_configured" ] && wps_state=1
 
diff --git a/package/network/services/hostapd/files/wps-hotplug.sh b/package/network/services/hostapd/files/wps-hotplug.sh
index 24af80e55b..1b7eda42c8 100644
--- a/package/network/services/hostapd/files/wps-hotplug.sh
+++ b/package/network/services/hostapd/files/wps-hotplug.sh
@@ -1,11 +1,16 @@
 #!/bin/sh
 
 if [ "$ACTION" = "pressed" -a "$BUTTON" = "wps" ]; then
+	logger "WPS button pressed, looking for active radios"
+	echo "timer" > /sys/class/leds/r7800:white:wps/trigger
 	cd /var/run/hostapd
 	for socket in *; do
 		[ -S "$socket" ] || continue
+		logger "WPS activated for: $socket"
 		hostapd_cli -i "$socket" wps_pbc
 	done
+	sleep 120
+	echo "none" > /sys/class/leds/r7800:white:wps/trigger
 fi
 
 return 0
diff --git a/package/network/services/odhcpd/files/odhcpd-update b/package/network/services/odhcpd/files/odhcpd-update
index 9bc7abcc1c..d11771755d 100755
--- a/package/network/services/odhcpd/files/odhcpd-update
+++ b/package/network/services/odhcpd/files/odhcpd-update
@@ -1,6 +1,8 @@
 #!/bin/sh
 # Make dnsmasq reread hostfile by sending SIGHUP signal
 
+logger -t odhcpd "*** ODHCPD triggers DNSMASQ reload ***"
+
 . $IPKG_INSTROOT/lib/functions/procd.sh
 
 procd_send_signal dnsmasq
diff --git a/feeds/packages/net/nlbwmon/files/nlbwmon.init b/feeds/packages/net/nlbwmon/files/nlbwmon.init
index 3f01d0f5..993e9d6c 100755
--- a/feeds/packages/net/nlbwmon/files/nlbwmon.init
+++ b/feeds/packages/net/nlbwmon/files/nlbwmon.init
@@ -1,6 +1,6 @@
 #!/bin/sh /etc/rc.common
 
-START=60
+START=85
 
 USE_PROCD=1
 NAME=nlbwmon
diff --git a/feeds/packages/net/usbip/patches-2.0/100-musl-compat.patch b/feeds/packages/net/usbip/patches-2.0/100-musl-compat.patch
deleted file mode 100644
index a64678cb..00000000
--- a/feeds/packages/net/usbip/patches-2.0/100-musl-compat.patch
+++ /dev/null
@@ -1,11 +0,0 @@
---- a/src/usbipd.c
-+++ b/src/usbipd.c
-@@ -453,7 +453,7 @@ static void set_signal(void)
- 	sigaction(SIGTERM, &act, NULL);
- 	sigaction(SIGINT, &act, NULL);
- 	act.sa_handler = SIG_IGN;
--	sigaction(SIGCLD, &act, NULL);
-+	sigaction(SIGCHLD, &act, NULL);
- }
- 
- static const char *pid_file;
--- a/feeds/luci/applications/luci-app-ntpc/luasrc/model/cbi/ntpc/ntpc.lua	2018-05-29 20:35:31.578206766 +0800
+++ b/feeds/luci/applications/luci-app-ntpc/luasrc/model/cbi/ntpc/ntpc.lua	2017-09-19 21:37:28.000000000 +0800
@@ -23,7 +23,7 @@
 s2.addremove = false
 
 freq = s2:option(Value, "freq", translate("Offset frequency"))
-freq.datatype = "integer"
+freq.datatype = "uinteger"
 freq.rmempty = true
 
 s3 = m:section(TypedSection, "ntpserver", translate("Time Servers"))
--- a/feeds/luci/applications/luci-app-minidlna/Makefile	2018-05-29 21:35:26.704957690 +0800
+++ b/feeds/luci/applications/luci-app-minidlna/Makefile	2017-08-20 20:35:50.000000000 +0800
@@ -7,7 +7,7 @@
 include $(TOPDIR)/rules.mk
 
 LUCI_TITLE:=LuCI Support for miniDLNA
-LUCI_DEPENDS:=+minidlna
+LUCI_DEPENDS:=+minidlna-dsd
 
 include ../../luci.mk
 
--- a/feeds/luci/modules/luci-base/luasrc/view/sysauth.htm	2018-05-29 20:35:31.582208947 +0800
+++ b/feeds/luci/modules/luci-base/luasrc/view/sysauth.htm	2017-08-20 20:35:50.000000000 +0800
@@ -6,7 +6,7 @@
 
 <%+header%>
 
-<form method="post" action="<%=pcdata(FULL_REQUEST_URI)%>">
+<form method="post" action="<%=pcdata(luci.http.getenv("REQUEST_URI"))%>">
 	<%- if fuser then %>
 	<div class="errorbox"><%:Invalid username and/or password! Please try again.%></div>
 	<% end -%>
@@ -48,6 +48,7 @@
 local fs  = require "nixio.fs"
 local https_key = uci:get("uhttpd", "main", "key")
 local https_port = uci:get("uhttpd", "main", "listen_https")
+local https_redirect = uci:get("uhttpd", "main", "redirect_https") or '0'	
 if type(https_port) == "table" then
 	https_port = https_port[1]
 end
@@ -57,7 +58,7 @@
 %>
 
 <script type="text/javascript">//<![CDATA[
-	if (document.location.protocol != 'https:') {
+	if (document.location.protocol != 'https:' && '<%=https_redirect%>' == '1') {
 		var url = 'https://' + window.location.hostname + ':' + '<%=https_port%>' + window.location.pathname;
 		var img=new Image;
 		img.onload=function(){window.location = url};
--- a/feeds/luci/modules/luci-base/root/etc/config/luci	2018-05-29 20:35:31.778315847 +0800
+++ b/feeds/luci/modules/luci-base/root/etc/config/luci	2018-05-29 21:42:33.672669069 +0800
@@ -1,6 +1,6 @@
 config core main
-	option lang auto
-	option mediaurlbase /luci-static/bootstrap
+	option lang zh_cn
+	option mediaurlbase /luci-static/atmaterial
 	option resourcebase /luci-static/resources
 	
 config extern flash_keep
@@ -22,6 +22,10 @@
 	option enable 1
 		
 config internal themes
+	option Bootstrap '/luci-static/bootstrap'
+	option Material '/luci-static/material'
+	option ADVancedtomato '/luci-static/advancedtomato'
+	option ATMaterial '/luci-static/atmaterial'
 
 config internal apply
 	option rollback 30
--- a/feeds/luci/protocols/luci-proto-ppp/luasrc/model/cbi/admin_network/proto_pppoe.lua	2018-05-29 20:35:31.826342026 +0800
+++ b/feeds/luci/protocols/luci-proto-ppp/luasrc/model/cbi/admin_network/proto_pppoe.lua	2017-09-05 10:27:10.000000000 +0800
@@ -121,6 +121,8 @@
 demand.placeholder = "0"
 demand.datatype    = "uinteger"
 
+local u=net:get_interface()
+luci.tools.proto.opt_macaddr(section,u,translate("Override MAC address"))
 
 mtu = section:taboption("advanced", Value, "mtu", translate("Override MTU"))
 mtu.placeholder = "1500"
diff -urN a/feeds/luci/applications/luci-app-nlbwmon/luasrc/controller/nlbw.lua b/feeds/luci/applications/luci-app-nlbwmon/luasrc/controller/nlbw.lua
--- a/feeds/luci/applications/luci-app-nlbwmon/luasrc/controller/nlbw.lua	2018-05-29 20:35:31.574204584 +0800
+++ b/feeds/luci/applications/luci-app-nlbwmon/luasrc/controller/nlbw.lua	2018-05-29 22:01:30.112122373 +0800
@@ -4,16 +4,16 @@
 module("luci.controller.nlbw", package.seeall)
 
 function index()
-	entry({"admin", "nlbw"}, firstchild(), _("Bandwidth Monitor"), 80)
-	entry({"admin", "nlbw", "display"}, template("nlbw/display"), _("Display"), 1)
-	entry({"admin", "nlbw", "config"}, cbi("nlbw/config"), _("Configuration"), 2)
-	entry({"admin", "nlbw", "backup"}, template("nlbw/backup"), _("Backup"), 3)
-	entry({"admin", "nlbw", "data"}, call("action_data"), nil, 4)
-	entry({"admin", "nlbw", "list"}, call("action_list"), nil, 5)
-	entry({"admin", "nlbw", "ptr"}, call("action_ptr"), nil, 6).leaf = true
-	entry({"admin", "nlbw", "download"}, call("action_download"), nil, 7)
-	entry({"admin", "nlbw", "restore"}, post("action_restore"), nil, 8)
-	entry({"admin", "nlbw", "commit"}, call("action_commit"), nil, 9)
+	entry({"admin", "status", "nlbw"}, firstchild(), _("Bandwidth Monitor"), 80)
+	entry({"admin", "status", "nlbw", "display"}, template("nlbw/display"), _("Display"), 1)
+	entry({"admin", "status", "nlbw", "config"}, cbi("nlbw/config"), _("Configuration"), 2)
+	entry({"admin", "status", "nlbw", "backup"}, template("nlbw/backup"), _("Backup"), 3)
+	entry({"admin", "status", "nlbw", "data"}, call("action_data"), nil, 4)
+	entry({"admin", "status", "nlbw", "list"}, call("action_list"), nil, 5)
+	entry({"admin", "status", "nlbw", "ptr"}, call("action_ptr"), nil, 6).leaf = true
+	entry({"admin", "status", "nlbw", "download"}, call("action_download"), nil, 7)
+	entry({"admin", "status", "nlbw", "restore"}, post("action_restore"), nil, 8)
+	entry({"admin", "status", "nlbw", "commit"}, call("action_commit"), nil, 9)
 end
 
 local function exec(cmd, args, writer)
@@ -221,6 +221,6 @@
 	local http = require "luci.http"
 	local disp = require "luci.dispatcher"
 
-	http.redirect(disp.build_url("admin/nlbw/display"))
+	http.redirect(disp.build_url("admin/status/nlbw/display"))
 	exec("/usr/sbin/nlbw", { "-c", "commit" })
 end
diff -urN a/feeds/luci/applications/luci-app-nlbwmon/luasrc/model/cbi/nlbw/config.lua b/feeds/luci/applications/luci-app-nlbwmon/luasrc/model/cbi/nlbw/config.lua
--- a/feeds/luci/applications/luci-app-nlbwmon/luasrc/model/cbi/nlbw/config.lua	2018-05-29 20:35:31.574204584 +0800
+++ b/feeds/luci/applications/luci-app-nlbwmon/luasrc/model/cbi/nlbw/config.lua	2018-05-29 22:06:38.770029539 +0800
@@ -49,7 +49,7 @@
 
 
 warning = s:taboption("general", DummyValue, "_warning", translate("Warning"))
-warning.default = translatef("Changing the accounting interval type will invalidate existing databases!<br /><strong><a href=\"%s\">Download backup</a></strong>.", luci.dispatcher.build_url("admin/nlbw/backup"))
+warning.default = translatef("Changing the accounting interval type will invalidate existing databases!<br /><strong><a href=\"%s\">Download backup</a></strong>.", luci.dispatcher.build_url("admin/status/nlbw/backup"))
 warning.rawhtml = true
 
 if (m.uci:get_first("nlbwmon", "nlbwmon", "database_interval") or ""):match("^%d%d%d%d-%d%d-%d%d/%d+$") then
diff -urN a/feeds/luci/applications/luci-app-nlbwmon/luasrc/view/nlbw/backup.htm b/feeds/luci/applications/luci-app-nlbwmon/luasrc/view/nlbw/backup.htm
--- a/feeds/luci/applications/luci-app-nlbwmon/luasrc/view/nlbw/backup.htm	2018-05-29 20:35:31.574204584 +0800
+++ b/feeds/luci/applications/luci-app-nlbwmon/luasrc/view/nlbw/backup.htm	2018-05-29 22:03:24.521129138 +0800
@@ -12,7 +12,7 @@
 <fieldset class="cbi-section">
 	<legend><%:Restore Database Backup%></legend>
 	<p>
-		<form method="POST" action="<%=url("admin/nlbw/restore")%>" enctype="multipart/form-data">
+		<form method="POST" action="<%=url("admin/status/nlbw/restore")%>" enctype="multipart/form-data">
 			<input type="hidden" name="token" value="<%=token%>" />
 			<input type="file" name="archive" accept="application/gzip,.gz" />
 			<input type="submit" value="<%:Restore%>" class="cbi-button cbi-button-apply" />
@@ -25,7 +25,7 @@
 
 	<legend><%:Download Database Backup%></legend>
 	<p>
-		<form method="GET" action="<%=url("admin/nlbw/download")%>">
+		<form method="GET" action="<%=url("admin/status/nlbw/download")%>">
 			<input type="submit" value="<%:Generate Backup%>" class="cbi-button cbi-button-link" />
 		</form>
 	</p>
diff -urN a/feeds/luci/applications/luci-app-nlbwmon/luasrc/view/nlbw/display.htm b/feeds/luci/applications/luci-app-nlbwmon/luasrc/view/nlbw/display.htm
--- a/feeds/luci/applications/luci-app-nlbwmon/luasrc/view/nlbw/display.htm	2018-05-29 20:35:31.574204584 +0800
+++ b/feeds/luci/applications/luci-app-nlbwmon/luasrc/view/nlbw/display.htm	2018-05-29 22:05:11.127803790 +0800
@@ -395,7 +395,7 @@
 
 function fetchData(period)
 {
-	XHR.get('<%=url("admin/nlbw/data")%>', { period: period, group_by: 'family,mac,ip,layer7', order_by: '-rx_bytes,-tx_bytes' }, function(xhr, res) {
+	XHR.get('<%=url("admin/status/nlbw/data")%>', { period: period, group_by: 'family,mac,ip,layer7', order_by: '-rx_bytes,-tx_bytes' }, function(xhr, res) {
 		if (res !== null && typeof(res) === 'object' && typeof(res.columns) === 'object' && typeof(res.data) === 'object')
 			trafficData = res;
 
@@ -410,7 +410,7 @@
 		renderLayer7Data();
 		renderIPv6Data();
 
-		XHR.get('<%=url("admin/nlbw/ptr")%>/' + ipAddrs.join('/'), null, function(xhr, res) {
+		XHR.get('<%=url("admin/status/nlbw/ptr")%>/' + ipAddrs.join('/'), null, function(xhr, res) {
 			if (res !== null && typeof(res) === 'object')
 				hostNames = res;
 		});
@@ -634,7 +634,7 @@
 		var cell = table.insertRow(-1).insertCell(-1);
 
 		cell.setAttribute('colspan', 6);
-		cell.innerHTML = '<em><%:No data recorded yet.%> <a href="<%=url("admin/nlbw/commit")%>"><%:Force reload…%></a></em>';
+		cell.innerHTML = '<em><%:No data recorded yet.%> <a href="<%=url("admin/status/nlbw/commit")%>"><%:Force reload…%></a></em>';
 	}
 
 	pie('traf-pie', trafData);
@@ -694,7 +694,7 @@
 		var cell = table.insertRow(-1).insertCell(-1);
 
 		cell.setAttribute('colspan', 6);
-		cell.innerHTML = '<em><%:No data recorded yet.%> <a href="<%=url("admin/nlbw/commit")%>"><%:Force reload…%></a></em>';
+		cell.innerHTML = '<em><%:No data recorded yet.%> <a href="<%=url("admin/status/nlbw/commit")%>"><%:Force reload…%></a></em>';
 	}
 
 	pie('layer7-rx-pie', rxData);
@@ -812,7 +812,7 @@
 		var cell = table.insertRow(-1).insertCell(-1);
 
 		cell.setAttribute('colspan', 7);
-		cell.innerHTML = '<em><%:No data recorded yet.%> <a href="<%=url("admin/nlbw/commit")%>"><%:Force reload…%></a></em>';
+		cell.innerHTML = '<em><%:No data recorded yet.%> <a href="<%=url("admin/status/nlbw/commit")%>"><%:Force reload…%></a></em>';
 	}
 
 	var shareData = [], hostsData = [];
@@ -1013,10 +1013,10 @@
 
 <div class="cbi-section" id="container.nlbw.export" style="display:none">
 	<ul>
-		<li><a href="<%=url('admin/nlbw/data')%>?type=csv&#38;group_by=mac&#38;order_by=-rx,-tx"><%:CSV, grouped by MAC%></a></li>
-		<li><a href="<%=url('admin/nlbw/data')%>?type=csv&#38;group_by=ip&#38;order_by=-rx,-tx"><%:CSV, grouped by IP%></a></li>
-		<li><a href="<%=url('admin/nlbw/data')%>?type=csv&#38;group_by=layer7&#38;order_by=-rx,-tx"><%:CSV, grouped by protocol%></a></li>
-		<li><a href="<%=url('admin/nlbw/data')%>?type=json"><%:JSON dump%></a></li>
+		<li><a href="<%=url('admin/status/nlbw/data')%>?type=csv&#38;group_by=mac&#38;order_by=-rx,-tx"><%:CSV, grouped by MAC%></a></li>
+		<li><a href="<%=url('admin/status/nlbw/data')%>?type=csv&#38;group_by=ip&#38;order_by=-rx,-tx"><%:CSV, grouped by IP%></a></li>
+		<li><a href="<%=url('admin/status/nlbw/data')%>?type=csv&#38;group_by=layer7&#38;order_by=-rx,-tx"><%:CSV, grouped by protocol%></a></li>
+		<li><a href="<%=url('admin/status/nlbw/data')%>?type=json"><%:JSON dump%></a></li>
 	</ul>
 </div>
 
@@ -1026,7 +1026,7 @@
 	cbi_t_add('nlbw', 'ipv6');
 	cbi_t_add('nlbw', 'export');
 
-	XHR.get('<%=url("admin/nlbw/list")%>', null, function(xhr, res) {
+	XHR.get('<%=url("admin/status/nlbw/list")%>', null, function(xhr, res) {
 
 		if (res !== null && typeof(res) === 'object' && res.length > 0) {
 			trafficPeriods = res;
--- a/feeds/luci/modules/luci-base/po/zh-cn/base.po	2018-06-11 19:39:45.979026236 +0800
+++ b/feeds/luci/modules/luci-base/po/zh-cn/base.po	2018-06-11 19:42:13.061850226 +0800
@@ -3502,7 +3502,7 @@
 msgstr ""
 "使用“添加”按钮来增加新的租约条目。“IPv4 地址”和“主机名”字段的值将被固定分配"
 "给“MAC 地址”字段标识的主机，“租期”是一个可选字段，可为每个主机单独设定 DHCP "
-"租期的时长，例如：12h、3d、inifinite，分别表示 12 小时、3 天、永久。"
+"租期的时长，例如：12h、3d、infinite，分别表示 12 小时、3 天、永久。"
 
 msgid "Used"
 msgstr "已用"

--- a/feeds/packages/net/haproxy/Makefile	2018-06-18 11:06:39.932743333 +0800
+++ b/feeds/packages/net/haproxy/Makefile	2018-06-18 11:09:18.511537824 +0800
@@ -170,14 +170,8 @@
 endef
 
 define Package/haproxy/install
-	$(INSTALL_DIR) $(1)/usr/sbin
-	$(INSTALL_BIN) $(PKG_BUILD_DIR)/haproxy $(1)/usr/sbin/
-	$(INSTALL_DIR) $(1)/etc
-	$(INSTALL_CONF) ./files/haproxy.cfg $(1)/etc/
-	$(INSTALL_DIR) $(1)/etc/init.d
-	$(INSTALL_BIN) ./files/haproxy.init $(1)/etc/init.d/haproxy
-	$(INSTALL_DIR) $(1)/etc/hotplug.d/net
-	$(INSTALL_BIN) ./files/haproxy.hotplug $(1)/etc/hotplug.d/net/90-haproxy
+	$(INSTALL_DIR) $(1)/usr/bin
+	$(INSTALL_BIN) $(PKG_BUILD_DIR)/haproxy $(1)/usr/bin/
 endef
 
 Package/haproxy-nossl/install = $(Package/haproxy/install)
--- a/feeds/packages/net/nginx/files-luci-support/luci_nginx_ssl.conf	2018-06-18 11:06:39.932743333 +0800
+++ b/feeds/packages/net/nginx/files-luci-support/luci_nginx_ssl.conf	2018-06-18 13:45:28.000000000 +0800
@@ -6,65 +6,80 @@
 #error_log  /tmp/log/nginx/error.log  notice;
 #error_log  /tmp/log/nginx/error.log  info;
 
-pid        /var/run/nginx.pid;
+pid  /var/run/nginx.pid;
 
 
 events {
-    worker_connections  1024;
+	worker_connections  1024;
 }
 
 
 http {
-    include       mime.types;
-    default_type  application/octet-stream;
+	include       mime.types;
+	default_type  application/octet-stream;
 
 	sendfile on;
-    keepalive_timeout 0;
+	keepalive_timeout 0;
 	
 	client_body_buffer_size 10K;
 	client_header_buffer_size 1k;
 	client_max_body_size 1G;
 	large_client_header_buffers 2 1k;
 
-    gzip on;
-    gzip_http_version 1.1;
-    gzip_vary on;
-    gzip_comp_level 1;
-    gzip_proxied any;
+	gzip on;
+	gzip_http_version 1.1;
+	gzip_vary on;
+	gzip_comp_level 1;
+	gzip_proxied any;
 	
 	root /www;
-	
+
 	server {
 		listen 80 default_server;
 		listen [::]:80 default_server;
-		server_name _;
-		return 301 https://$host$request_uri;
-	}
+		server_name  localhost;
+		
+		location ~* .(jpg|jpeg|png|gif|ico|css|js)$ {
+			expires 365d;
+		}
 
-    server {
-        listen 443 ssl default_server;
+		location / {
+			index  index.html;
+			include luci_uwsgi.conf;
+		}
+		
+		location /luci-static {
+			
+		}
+		
+		#return 301 https://$host$request_uri;
+		
+	}
+	
+	server {
+		listen 443 ssl default_server;
 		listen [::]:443 ssl default_server;
-        server_name  localhost;
+		server_name  localhost;
 		
 		ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
-        ssl_prefer_server_ciphers on;
+		ssl_prefer_server_ciphers on;
 		ssl_ciphers "EECDH+ECDSA+AESGCM:EECDH+aRSA+AESGCM:EECDH+ECDSA+SHA384:EECDH+ECDSA+SHA256:EECDH+aRSA+SHA384:EECDH+aRSA+SHA256:EECDH:DHE+AESGCM:DHE:!RSA!aNULL:!eNULL:!LOW:!RC4:!3DES:!MD5:!EXP:!PSK:!SRP:!DSS:!CAMELLIA:!SEED";
-        ssl_session_tickets off;
+		ssl_session_tickets off;
 
 		ssl_certificate /etc/nginx/nginx.cer;
-        ssl_certificate_key /etc/nginx/nginx.key;
+		ssl_certificate_key /etc/nginx/nginx.key;
 		
 		location ~* .(jpg|jpeg|png|gif|ico|css|js)$ {
 			expires 365d;
 		}
 
-        location / {
-            index  index.html;
+		location / {
+			index  index.html;
 			include luci_uwsgi.conf;
-        }
+		}
 		
 		location /luci-static {
 			
 		}
-    }
+	}
 }
\ No newline at end of file
--- a/feeds/packages/net/nginx/files-luci-support/luci_nginx_ssl.conf	2018-06-18 23:49:32.175654650 +0800
+++ b/feeds/packages/net/nginx/files-luci-support/luci_nginx_ssl.conf	2018-06-19 00:00:47.821688284 +0800
@@ -52,6 +52,13 @@
 			
 		}
 		
+                location /web {
+                	index  index.html;
+                }
+
+                location /webui-aria2 {
+                	index  index.html;
+                }
 		#return 301 https://$host$request_uri;
 		
 	}
@@ -81,5 +88,13 @@
 		location /luci-static {
 			
 		}
+
+		location /web {
+			index  index.html;
+		}
+
+		location /webui-aria2 {
+			index  index.html;
+		}
 	}
-}
\ No newline at end of file
+}
--- a/feeds/packages/net/uwsgi-cgi/files-luci-support/uwsgi.conf	2018-06-18 14:59:02.000313468 +0800
+++ b/feeds/packages/net/uwsgi-cgi/files-luci-support/uwsgi.conf	2018-06-19 09:23:46.953006873 +0800
@@ -25,4 +25,7 @@
 pidfile=/var/run/uwsgi.pid
 die-on-term=True
 fork-socket=True
-pcre-jit=True
\ No newline at end of file
+pcre-jit=True
+ignore-sigpipe=True
+ignore-write-errors=True
+disable-write-exception=True
--- a/feeds/luci/modules/luci-mod-admin-full/luasrc/view/admin_system/reboot.htm	2018-01-18 17:47:36.740460886 +0800
+++ b/feeds/luci/modules/luci-mod-admin-full/luasrc/view/admin_system/reboot.htm	2018-06-21 22:02:41.485876698 +0800
@@ -21,7 +21,7 @@
 	var tries = 0;
 
 	function ok() {
-		window.location = '<%=controller%>/admin';
+		window.location = '<%=controller%>admin';
 	}
 
 	function check() {
@@ -45,7 +45,7 @@
 		button.style.display = 'none';
 		document.getElementById('reboot-message').parentNode.style.display = '';
 
-		(new XHR()).post('<%=controller%>/admin/system/reboot/call', { token: '<%=token%>' }, check);
+		(new XHR()).post('<%=controller%>admin/system/reboot/call', { token: '<%=token%>' }, check);
 	}
 //]]></script>
 
--- a/package/system/procd/files/procd.sh	2018-06-18 17:24:32.623016967 +0800
+++ b/package/system/procd/files/procd.sh	2018-06-23 21:48:05.454991747 +0800
@@ -61,7 +61,7 @@
 }
 
 _procd_wrapper() {
-	procd_lock
+	#procd_lock
 	while [ -n "$1" ]; do
 		eval "$1() { _procd_call _$1 \"\$@\"; }"
 		shift
